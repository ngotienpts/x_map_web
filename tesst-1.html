<!DOCTYPE html>
<html lang="en">
<head>
    <title>Draw a line from A to B</title>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel='stylesheet' href='https://unpkg.com/maplibre-gl@5.7.1/dist/maplibre-gl.css' />
    <script src='https://unpkg.com/maplibre-gl@5.7.1/dist/maplibre-gl.js'></script>
    <style>
        body { margin: 0; padding: 0; }
        html, body, #map { height: 100%; }
    </style>
</head>
<body>
<div id="map"></div>

<script>
    // Tọa độ của Hồ Gươm và Cầu Long Biên
    const hoanKiemLake = [105.8523, 21.0285]; // Kinh độ, Vĩ độ
    const longBienBridge = [105.8596, 21.0435]; // Kinh độ, Vĩ độ
    const realRouteCoordinates = [
    [105.8523, 21.0285], // Hồ Gươm
    [105.8525, 21.0301], // Một điểm rẽ
    [105.8532, 21.0345], // Điểm tiếp theo
    // ...hàng trăm hoặc hàng nghìn điểm khác...
    [105.8596, 21.0435]  // Cầu Long Biên
];

    const map = new maplibregl.Map({
        container: 'map',
        style: 'https://xmap.vn/lib/dark-vietnam.json',
        // Đặt trung tâm bản đồ ở giữa hai điểm
        center: [(hoanKiemLake[0] + longBienBridge[0]) / 2, (hoanKiemLake[1] + longBienBridge[1]) / 2],
        zoom: 13, // Căn chỉnh mức zoom để nhìn rõ cả hai điểm
        pitch: 0,
        bearing: 0,
    });

    map.on('load', () => {
        // Tạo một GeoJSON source với hai điểm tọa độ
        map.addSource('route', {
            'type': 'geojson',
            'data': {
                'type': 'Feature',
                'properties': {},
                'geometry': {
                    'type': 'LineString',
                    // Đường thẳng nối từ Hồ Gươm đến Cầu Long Biên
                    'coordinates': [hoanKiemLake, longBienBridge]
                }
            }
        });

        // Thêm layer để hiển thị đường thẳng
        map.addLayer({
            'id': 'route-line',
            'type': 'line',
            'source': 'route',
            'layout': {
                'line-join': 'round',
                'line-cap': 'round'
            },
            'paint': {
                'line-color': '#ed6498',
                'line-width': 5,
                'line-opacity': 0.8
            }
        });
    });
</script>
</body>
</html>